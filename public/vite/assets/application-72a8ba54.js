var Ke=Object.defineProperty;var Xe=(t,e,n)=>e in t?Ke(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ge=(t,e,n)=>(Xe(t,typeof e!="symbol"?e+"":e,n),n);function F(){}function Ye(t,e){for(const n in e)t[n]=e[n];return t}function We(t){return t()}function Qe(){return Object.create(null)}function X(t){t.forEach(We)}function Fe(t){return typeof t=="function"}function ee(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let ue;function Je(t,e){return t===e?!0:(ue||(ue=document.createElement("a")),ue.href=e,t===ue.href)}function Ze(t){return Object.keys(t).length===0}function xe(t,e,n,l){if(t){const r=Be(t,e,n,l);return t[0](r)}}function Be(t,e,n,l){return t[1]&&l?Ye(n.ctx.slice(),t[1](l(e))):n.ctx}function $e(t,e,n,l){if(t[2]&&l){const r=t[2](l(n));if(e.dirty===void 0)return r;if(typeof r=="object"){const i=[],s=Math.max(e.dirty.length,r.length);for(let c=0;c<s;c+=1)i[c]=e.dirty[c]|r[c];return i}return e.dirty|r}return e.dirty}function et(t,e,n,l,r,i){if(r){const s=Be(e,n,l,i);t.p(s,r)}}function tt(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let l=0;l<n;l++)e[l]=-1;return e}return-1}function p(t,e){t.appendChild(e)}function I(t,e,n){t.insertBefore(e,n||null)}function M(t){t.parentNode&&t.parentNode.removeChild(t)}function ve(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function v(t){return document.createElement(t)}function qe(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function T(t){return document.createTextNode(t)}function z(){return T(" ")}function Re(){return T("")}function U(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function y(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Ae(t,e,n){e in t?t[e]=typeof t[e]=="boolean"&&n===""?!0:n:y(t,e,n)}function nt(t){return Array.from(t.childNodes)}function re(t,e){e=""+e,t.data!==e&&(t.data=e)}function Le(t,e){t.value=e??""}function R(t,e,n,l){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,l?"important":"")}let fe;function lt(){if(fe===void 0){fe=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{fe=!0}}return fe}function it(t,e){getComputedStyle(t).position==="static"&&(t.style.position="relative");const l=v("iframe");l.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),l.setAttribute("aria-hidden","true"),l.tabIndex=-1;const r=lt();let i;return r?(l.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",i=U(window,"message",s=>{s.source===l.contentWindow&&e()})):(l.src="about:blank",l.onload=()=>{i=U(l.contentWindow,"resize",e),e()}),p(t,l),()=>{(r||i&&l.contentWindow)&&i(),M(l)}}let oe;function se(t){oe=t}function rt(){if(!oe)throw new Error("Function called outside component initialization");return oe}function st(t){rt().$$.on_mount.push(t)}const J=[],K=[];let Z=[];const ke=[],Ue=Promise.resolve();let ye=!1;function Ve(){ye||(ye=!0,Ue.then(Ge))}function me(){return Ve(),Ue}function de(t){Z.push(t)}function be(t){ke.push(t)}const pe=new Set;let Y=0;function Ge(){if(Y!==0)return;const t=oe;do{try{for(;Y<J.length;){const e=J[Y];Y++,se(e),ot(e.$$)}}catch(e){throw J.length=0,Y=0,e}for(se(null),J.length=0,Y=0;K.length;)K.pop()();for(let e=0;e<Z.length;e+=1){const n=Z[e];pe.has(n)||(pe.add(n),n())}Z.length=0}while(J.length);for(;ke.length;)ke.pop()();ye=!1,pe.clear(),se(t)}function ot(t){if(t.fragment!==null){t.update(),X(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(de)}}function ct(t){const e=[],n=[];Z.forEach(l=>t.indexOf(l)===-1?e.push(l):n.push(l)),n.forEach(l=>l()),Z=e}const ae=new Set;let P;function he(){P={r:0,c:[],p:P}}function _e(){P.r||X(P.c),P=P.p}function N(t,e){t&&t.i&&(ae.delete(t),t.i(e))}function W(t,e,n,l){if(t&&t.o){if(ae.has(t))return;ae.add(t),P.c.push(()=>{ae.delete(t),l&&(n&&t.d(1),l())}),t.o(e)}else l&&l()}function V(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function ut(t,e){W(t,1,1,()=>{e.delete(t.key)})}function ft(t,e,n,l,r,i,s,c,o,u,a,d){let f=t.length,h=i.length,_=f;const b={};for(;_--;)b[t[_].key]=_;const k=[],Q=new Map,g=new Map,q=[];for(_=h;_--;){const S=d(r,i,_),O=n(S);let j=s.get(O);j?l&&q.push(()=>j.p(S,e)):(j=u(O,S),j.c()),Q.set(O,k[_]=j),O in b&&g.set(O,Math.abs(_-b[O]))}const D=new Set,A=new Set;function C(S){N(S,1),S.m(c,a),s.set(S.key,S),a=S.first,h--}for(;f&&h;){const S=k[h-1],O=t[f-1],j=S.key,m=O.key;S===O?(a=S.first,f--,h--):Q.has(m)?!s.has(j)||D.has(j)?C(S):A.has(m)?f--:g.get(j)>g.get(m)?(A.add(j),C(S)):(D.add(m),f--):(o(O,s),f--)}for(;f--;){const S=t[f];Q.has(S.key)||o(S,s)}for(;h;)C(k[h-1]);return X(q),k}function we(t,e,n){const l=t.$$.props[e];l!==void 0&&(t.$$.bound[l]=n,n(t.$$.ctx[l]))}function ce(t){t&&t.c()}function x(t,e,n){const{fragment:l,after_update:r}=t.$$;l&&l.m(e,n),de(()=>{const i=t.$$.on_mount.map(We).filter(Fe);t.$$.on_destroy?t.$$.on_destroy.push(...i):X(i),t.$$.on_mount=[]}),r.forEach(de)}function $(t,e){const n=t.$$;n.fragment!==null&&(ct(n.after_update),X(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function at(t,e){t.$$.dirty[0]===-1&&(J.push(t),Ve(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function te(t,e,n,l,r,i,s=null,c=[-1]){const o=oe;se(t);const u=t.$$={fragment:null,ctx:[],props:i,update:F,not_equal:r,bound:Qe(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(o?o.$$.context:[])),callbacks:Qe(),dirty:c,skip_bound:!1,root:e.target||o.$$.root};s&&s(u.root);let a=!1;if(u.ctx=n?n(t,e.props||{},(d,f,...h)=>{const _=h.length?h[0]:f;return u.ctx&&r(u.ctx[d],u.ctx[d]=_)&&(!u.skip_bound&&u.bound[d]&&u.bound[d](_),a&&at(t,d)),f}):[],u.update(),a=!0,X(u.before_update),u.fragment=l?l(u.ctx):!1,e.target){if(e.hydrate){const d=nt(e.target);u.fragment&&u.fragment.l(d),d.forEach(M)}else u.fragment&&u.fragment.c();e.intro&&N(t.$$.fragment),x(t,e.target,e.anchor),Ge()}se(o)}class ne{constructor(){ge(this,"$$");ge(this,"$$set")}$destroy(){$(this,1),this.$destroy=F}$on(e,n){if(!Fe(n))return F;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(n),()=>{const r=l.indexOf(n);r!==-1&&l.splice(r,1)}}$set(e){this.$$set&&!Ze(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const dt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(dt);function Ee(t,e,n){const l=t.slice();return l[25]=e[n],l}const ht=t=>({item:t&16}),Ce=t=>({item:t[25].data});function _t(t){let e;return{c(){e=T("Missing template")},m(n,l){I(n,e,l)},d(n){n&&M(e)}}}function Se(t,e){let n,l,r;const i=e[14].default,s=xe(i,e,e[13],Ce),c=s||_t();return{key:t,first:null,c(){n=v("svelte-virtual-list-row"),c&&c.c(),l=z(),this.first=n},m(o,u){I(o,n,u),c&&c.m(n,null),p(n,l),r=!0},p(o,u){e=o,s&&s.p&&(!r||u&8208)&&et(s,i,e,e[13],r?$e(i,e[13],u,ht):tt(e[13]),Ce)},i(o){r||(N(c,o),r=!0)},o(o){W(c,o),r=!1},d(o){o&&M(n),c&&c.d(o)}}}function gt(t){let e,n,l=[],r=new Map,i,s,c,o,u,a=V(t[4]);const d=f=>f[25].index;for(let f=0;f<a.length;f+=1){let h=Ee(t,a,f),_=d(h);r.set(_,l[f]=Se(_,h))}return{c(){e=v("svelte-virtual-list-viewport"),n=v("svelte-virtual-list-contents");for(let f=0;f<l.length;f+=1)l[f].c();R(n,"padding-top",t[5]+"px"),R(n,"padding-bottom",t[6]+"px"),R(e,"height",t[0]),Ae(e,"class",i=t[6]===0&&"bottom"),de(()=>t[17].call(e))},m(f,h){I(f,e,h),p(e,n);for(let _=0;_<l.length;_+=1)l[_]&&l[_].m(n,null);t[15](n),t[16](e),s=it(e,t[17].bind(e)),c=!0,o||(u=U(e,"scroll",t[7]),o=!0)},p(f,[h]){h&8208&&(a=V(f[4]),he(),l=ft(l,h,d,1,f,a,r,n,ut,Se,null,Ee),_e()),(!c||h&32)&&R(n,"padding-top",f[5]+"px"),(!c||h&64)&&R(n,"padding-bottom",f[6]+"px"),(!c||h&1)&&R(e,"height",f[0]),(!c||h&64&&i!==(i=f[6]===0&&"bottom"))&&Ae(e,"class",i)},i(f){if(!c){for(let h=0;h<a.length;h+=1)N(l[h]);c=!0}},o(f){for(let h=0;h<l.length;h+=1)W(l[h]);c=!1},d(f){f&&M(e);for(let h=0;h<l.length;h+=1)l[h].d();t[15](null),t[16](null),s(),o=!1,u()}}}function mt(t,e,n){let{$$slots:l={},$$scope:r}=e,{items:i}=e,{height:s="100%"}=e,{itemHeight:c=void 0}=e,{start:o=0}=e,{end:u=0}=e,a=[],d,f,h,_=0,b,k,Q=0,g=0,q;i.length;async function D(){let m=i.length;if(d=h.getElementsByTagName("svelte-virtual-list-row"),n(5,Q=0),n(6,g=0),a=[],m==0){n(8,o=0),n(9,u=0);return}o>i.length-1&&(n(8,o=i.length-1),n(9,u=i.length-1)),A(),C()}async function A(){const{scrollTop:m}=f;await me();let B=Q-m,H=o;for(;B<_&&H<i.length;){let w=d[H-o];if(w||(n(9,u=H+1),await me(),w=d[H-o]),!w)return;const E=a[H]=c||w.offsetHeight;B+=E,H+=1}n(9,u=H);const L=i.length-u;q=(Q+B)/u,n(6,g=L*q),a.length=i.length}async function C(){const{scrollTop:m}=f,B=o;for(let E=0;E<d.length;E+=1)a[o+E]=c||d[E].offsetHeight;let H=0,L=0;for(;H<i.length;){const E=a[H]||q;if(L+E>m){n(8,o=H),n(5,Q=L);break}L+=E,H+=1}for(;H<i.length&&(L+=a[H]||q,H+=1,!(L>m+_)););n(9,u=H);const w=i.length-u;for(q=L/u;H<i.length;)a[H++]=q;if(n(6,g=w*q),o<B){await me();let E=0,G=0;for(let ie=o;ie<B;ie+=1)d[ie-o]&&(E+=a[ie],G+=c||d[ie-o].offsetHeight);const le=G-E;f.scrollTo(0,m+le)}}st(()=>{d=h.getElementsByTagName("svelte-virtual-list-row"),n(12,k=!0)});function S(m){K[m?"unshift":"push"](()=>{h=m,n(3,h)})}function O(m){K[m?"unshift":"push"](()=>{f=m,n(2,f)})}function j(){_=this.offsetHeight,n(1,_)}return t.$$set=m=>{"items"in m&&n(10,i=m.items),"height"in m&&n(0,s=m.height),"itemHeight"in m&&n(11,c=m.itemHeight),"start"in m&&n(8,o=m.start),"end"in m&&n(9,u=m.end),"$$scope"in m&&n(13,r=m.$$scope)},t.$$.update=()=>{t.$$.dirty&1792&&n(4,b=i.slice(o,u).map((m,B)=>({index:B+o,data:m}))),t.$$.dirty&6146&&k&&(_||!0)&&(c||!0)&&A(),t.$$.dirty&5120&&k&&i&&D(),t.$$.dirty&1024&&i.length},[s,_,f,h,b,Q,g,C,o,u,i,c,k,r,l,S,O,j]}class pt extends ne{constructor(e){super(),te(this,e,mt,gt,ee,{items:10,height:0,itemHeight:11,start:8,end:9})}}function kt(t){let e,n;return e=new pt({props:{items:t[1],height:"calc(100vh - 146px)",$$slots:{default:[bt,({item:l})=>({4:l}),({item:l})=>l?16:0]},$$scope:{ctx:t}}}),{c(){ce(e.$$.fragment)},m(l,r){x(e,l,r),n=!0},p(l,r){const i={};r&2&&(i.items=l[1]),r&49&&(i.$$scope={dirty:r,ctx:l}),e.$set(i)},i(l){n||(N(e.$$.fragment,l),n=!0)},o(l){W(e.$$.fragment,l),n=!1},d(l){$(e,l)}}}function yt(t){let e;function n(i,s){return i[2]===""?vt:wt}let l=n(t),r=l(t);return{c(){e=v("li"),r.c(),y(e,"class","empty-message")},m(i,s){I(i,e,s),r.m(e,null)},p(i,s){l!==(l=n(i))&&(r.d(1),r=l(i),r&&(r.c(),r.m(e,null)))},i:F,o:F,d(i){i&&M(e),r.d()}}}function bt(t){let e,n,l=t[4].eq_primary+"",r,i,s,c=t[4].country+"",o,u,a,d=t[4].location+"",f,h,_,b=t[4].date+"",k,Q,g,q;function D(...A){return t[3](t[4],...A)}return{c(){e=v("li"),n=v("div"),r=T(l),i=z(),s=v("div"),o=T(c),u=z(),a=v("div"),f=T(d),h=z(),_=v("div"),k=T(b),y(n,"class","size"),y(s,"class","country"),y(a,"class","location"),y(_,"class","date"),y(e,"class",Q=t[4].scrollIdx%2&&"odd")},m(A,C){I(A,e,C),p(e,n),p(n,r),p(e,i),p(e,s),p(s,o),p(e,u),p(e,a),p(a,f),p(e,h),p(e,_),p(_,k),g||(q=U(e,"click",D),g=!0)},p(A,C){t=A,C&16&&l!==(l=t[4].eq_primary+"")&&re(r,l),C&16&&c!==(c=t[4].country+"")&&re(o,c),C&16&&d!==(d=t[4].location+"")&&re(f,d),C&16&&b!==(b=t[4].date+"")&&re(k,b),C&16&&Q!==(Q=t[4].scrollIdx%2&&"odd")&&y(e,"class",Q)},d(A){A&&M(e),g=!1,q()}}}function wt(t){let e;return{c(){e=T("No Earthquakes found.")},m(n,l){I(n,e,l)},d(n){n&&M(e)}}}function vt(t){let e;return{c(){e=T("Loading...")},m(n,l){I(n,e,l)},d(n){n&&M(e)}}}function qt(t){let e,n,l,r;const i=[yt,kt],s=[];function c(o,u){return o[1].length===0?0:1}return n=c(t),l=s[n]=i[n](t),{c(){e=v("ul"),l.c()},m(o,u){I(o,e,u),s[n].m(e,null),r=!0},p(o,[u]){let a=n;n=c(o),n===a?s[n].p(o,u):(he(),W(s[a],1,1,()=>{s[a]=null}),_e(),l=s[n],l?l.p(o,u):(l=s[n]=i[n](o),l.c()),N(l,1),l.m(e,null))},i(o){r||(N(l),r=!0)},o(o){W(l),r=!1},d(o){o&&M(e),s[n].d()}}}function Qt(t,e,n){let{quakes:l=[]}=e,{query:r=""}=e,{selectedQuake:i=null}=e;const s=(c,o)=>n(0,i=c);return t.$$set=c=>{"quakes"in c&&n(1,l=c.quakes),"query"in c&&n(2,r=c.query),"selectedQuake"in c&&n(0,i=c.selectedQuake)},[i,l,r,s]}class At extends ne{constructor(e){super(),te(this,e,Qt,qt,ee,{quakes:1,query:2,selectedQuake:0})}}function He(t,e,n){const l=t.slice();return l[6]=e[n],l}function Me(t){let e,n=t[6][1]+"",l,r,i=t[0][t[6][0]]+"",s,c,o,u;function a(...d){return t[5](t[6],...d)}return{c(){e=v("div"),l=T(n),r=T(": "),s=T(i),c=z()},m(d,f){I(d,e,f),p(e,l),p(e,r),p(e,s),p(e,c),o||(u=U(e,"click",a),o=!0)},p(d,f){t=d,f&1&&i!==(i=t[0][t[6][0]]+"")&&re(s,i)},d(d){d&&M(e),o=!1,u()}}}function Lt(t){let e,n,l,r=V(t[2]),i=[];for(let s=0;s<r.length;s+=1)i[s]=Me(He(t,r,s));return{c(){e=v("div"),n=v("h4"),n.textContent="Selected Quake",l=z();for(let s=0;s<i.length;s+=1)i[s].c();y(e,"class","selected-quake")},m(s,c){I(s,e,c),p(e,n),p(e,l);for(let o=0;o<i.length;o+=1)i[o]&&i[o].m(e,null)},p(s,[c]){if(c&7){r=V(s[2]);let o;for(o=0;o<r.length;o+=1){const u=He(s,r,o);i[o]?i[o].p(u,c):(i[o]=Me(u),i[o].c(),i[o].m(e,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=r.length}},i:F,o:F,d(s){s&&M(e),ve(i,s)}}}function Et(t,e,n){let{selectedQuake:l=null}=e,{query:r=null}=e,{searchAction:i=()=>{}}=e;const s=u=>{let a=l[u[0]];`${a}`.includes(" ")&&(a=`"${a}"`),n(3,r=`${u[0]}:${a}`),i()},c=[["country","Country"],["location","Location"],["eq_primary","Size"],["intensity","Intensity"],["focal_depth","Focal Depth"],["tsu","Tsunami"],["latitude","Lat"],["longitude","Lon"],["date","Date"],["region","Region"],["houses_destroyed","Houses Destroyed"],["houses_damaged","Houses Damaged"]],o=(u,a)=>s(u);return t.$$set=u=>{"selectedQuake"in u&&n(0,l=u.selectedQuake),"query"in u&&n(3,r=u.query),"searchAction"in u&&n(4,i=u.searchAction)},[l,s,c,r,i,o]}class Ct extends ne{constructor(e){super(),te(this,e,Et,Lt,ee,{selectedQuake:0,query:3,searchAction:4})}}function Ie(t,e,n){const l=t.slice();return l[3]=e[n],l}function Ne(t){let e,n,l;function r(...i){return t[2](t[3],...i)}return{c(){e=v("div"),e.textContent=`${t[3]}`,y(e,"class","example")},m(i,s){I(i,e,s),n||(l=U(e,"click",r),n=!0)},p(i,s){t=i},d(i){i&&M(e),n=!1,l()}}}function St(t){let e,n,l,r,i,s,c,o,u,a,d,f,h,_=V(t[1]),b=[];for(let k=0;k<_.length;k+=1)b[k]=Ne(Ie(t,_,k));return{c(){e=v("div"),n=v("h4"),n.textContent="Help",l=z(),r=v("div"),i=T(Ht),s=T(`
    Further details can be found
    `),c=v("a"),c.textContent="here",o=T(`
    .
    `),u=v("br"),a=T(`
    Here are some clickable examples:`),d=z();for(let k=0;k<b.length;k+=1)b[k].c();f=z(),h=v("div"),h.innerHTML=`Click on an earthquake in the list or on the map to select it.
    <br/>
    Attributes in the selected quake are also clickable.`,y(c,"href","https://github.com/zumbalogy/command_search#syntax"),y(c,"target","_blank"),y(r,"class","help-subheader"),y(h,"class","help-footer"),y(e,"class","help-section")},m(k,Q){I(k,e,Q),p(e,n),p(e,l),p(e,r),p(r,i),p(r,s),p(r,c),p(r,o),p(r,u),p(r,a),p(e,d);for(let g=0;g<b.length;g+=1)b[g]&&b[g].m(e,null);p(e,f),p(e,h)},p(k,[Q]){if(Q&3){_=V(k[1]);let g;for(g=0;g<_.length;g+=1){const q=Ie(k,_,g);b[g]?b[g].p(q,Q):(b[g]=Ne(q),b[g].c(),b[g].m(e,f))}for(;g<b.length;g+=1)b[g].d(1);b.length=_.length}},i:F,o:F,d(k){k&&M(e),ve(b,k)}}}const Ht="The search field allows for specification of fields (:), comparisons (< > <= >=), negation (-), a logical OR (|), quotation, and grouping via parentheses.";function Mt(t,e,n){let{clickAction:l=()=>{}}=e;const r=["country:Italy",'"south island"',"size>8.6","-size:0","sea|ocean","100_years_ago<date<90_years_ago","country:'uk' -territory","morocco -spain"],i=(s,c)=>l(s);return t.$$set=s=>{"clickAction"in s&&n(0,l=s.clickAction)},[l,r,i]}class It extends ne{constructor(e){super(),te(this,e,Mt,St,ee,{clickAction:0})}}const Pe="/vite/assets/blank_map-2ebbdfb0.svg",Nt=(t,e)=>{const n=[];let l=0;return t.forEach((r,i)=>{for(;r!==e[l].id;)l+=1;e[l].scrollIdx=i,n.push(e[l]),l+=1}),n},zt=t=>{let e=90,n=-90,l=180,r=-180;return t.forEach(i=>{i.latitude<e&&(e=i.latitude),i.latitude>n&&(n=i.latitude),i.longitude<l&&(l=i.longitude),i.longitude>r&&(r=i.longitude)}),[e,n,l,r]},Dt=t=>btoa(encodeURIComponent(t).replace(/%([0-9A-F]{2})/g,(e,n)=>String.fromCharCode("0x"+n))),Tt=t=>decodeURIComponent(atob(t).split("").map(e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)).join(""));function ze(t,e,n){const l=t.slice();return l[18]=e[n],l}function jt(t){let e,n,l,r,i,s,c=V(t[1]),o=[];for(let a=0;a<c.length;a+=1)o[a]=De(ze(t,c,a));let u=t[0]&&Te(t);return{c(){e=v("div"),n=v("img"),r=z(),i=qe("svg");for(let a=0;a<o.length;a+=1)o[a].c();s=Re(),u&&u.c(),Je(n.src,l=Pe)||y(n,"src",l),R(n,"transform",t[3]),y(i,"x","0"),y(i,"y","0"),y(i,"viewBox","0 0 360 180"),R(i,"transform",t[3]),y(e,"class","map-wrapper")},m(a,d){I(a,e,d),p(e,n),p(e,r),p(e,i);for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(i,null);p(i,s),u&&u.m(i,null)},p(a,d){if(d&8&&R(n,"transform",a[3]),d&19){c=V(a[1]);let f;for(f=0;f<c.length;f+=1){const h=ze(a,c,f);o[f]?o[f].p(h,d):(o[f]=De(h),o[f].c(),o[f].m(i,s))}for(;f<o.length;f+=1)o[f].d(1);o.length=c.length}a[0]?u?u.p(a,d):(u=Te(a),u.c(),u.m(i,null)):u&&(u.d(1),u=null),d&8&&R(i,"transform",a[3])},d(a){a&&M(e),ve(o,a),u&&u.d()}}}function Ot(t){let e;return{c(){e=v("div"),e.innerHTML=`<img src="${Pe}"/>`,y(e,"class","map-wrapper")},m(n,l){I(n,e,l)},p:F,d(n){n&&M(e)}}}function De(t){let e,n,l,r,i;function s(...c){return t[17](t[18],...c)}return{c(){e=qe("circle"),y(e,"cx",n=180+t[18].longitude),y(e,"cy",l=90-t[18].latitude),y(e,"r",t[4]),y(e,"fill","#1277")},m(c,o){I(c,e,o),r||(i=U(e,"click",s),r=!0)},p(c,o){t=c,o&2&&n!==(n=180+t[18].longitude)&&y(e,"cx",n),o&2&&l!==(l=90-t[18].latitude)&&y(e,"cy",l),o&16&&y(e,"r",t[4])},d(c){c&&M(e),r=!1,i()}}}function Te(t){let e,n,l,r;return{c(){e=qe("circle"),y(e,"cx",n=180+t[0].longitude),y(e,"cy",l=90-t[0].latitude),y(e,"r",r=4/t[2]),y(e,"fill","#f11")},m(i,s){I(i,e,s)},p(i,s){s&1&&n!==(n=180+i[0].longitude)&&y(e,"cx",n),s&1&&l!==(l=90-i[0].latitude)&&y(e,"cy",l),s&4&&r!==(r=4/i[2])&&y(e,"r",r)},d(i){i&&M(e)}}}function Wt(t){let e;function n(i,s){return i[1].length===0?Ot:jt}let l=n(t),r=l(t);return{c(){r.c(),e=Re()},m(i,s){r.m(i,s),I(i,e,s)},p(i,[s]){l===(l=n(i))&&r?r.p(i,s):(r.d(1),r=l(i),r&&(r.c(),r.m(e.parentNode,e)))},i:F,o:F,d(i){i&&M(e),r.d(i)}}}function Ft(t,e,n){let l,r,i,s,c,o,u,a,d,f,h,_,b,k,Q,{quakes:g}=e,{selectedQuake:q}=e;const D=(A,C)=>n(0,q=A);return t.$$set=A=>{"quakes"in A&&n(1,g=A.quakes),"selectedQuake"in A&&n(0,q=A.selectedQuake)},t.$$.update=()=>{t.$$.dirty&2&&n(16,l=zt(g)),t.$$.dirty&65536&&n(14,r=l[0]),t.$$.dirty&65536&&n(15,i=l[1]),t.$$.dirty&65536&&n(12,s=l[2]),t.$$.dirty&65536&&n(13,c=l[3]),t.$$.dirty&49152&&n(10,o=(r+i)/2),t.$$.dirty&12288&&n(11,u=(s+c)/2),t.$$.dirty&49152&&n(8,a=i-r),t.$$.dirty&12288&&n(9,d=c-s),t.$$.dirty&2048&&n(6,f=50*u/-180),t.$$.dirty&1024&&n(5,h=50*o/90),t.$$.dirty&768&&n(7,_=Math.max(1,d,a*2)),t.$$.dirty&128&&n(2,b=Math.min(20,300/_)),t.$$.dirty&4&&n(4,k=2/b),t.$$.dirty&100&&n(3,Q=b<1.4?"":`scale(${b}) translate(${f}%, ${h}%)`)},[q,g,b,Q,k,h,f,_,a,d,o,u,s,c,r,i,l,D]}let Bt=class extends ne{constructor(e){super(),te(this,e,Ft,Wt,ee,{quakes:1,selectedQuake:0})}};function je(t){let e,n;return e=new It({props:{clickAction:t[11]}}),{c(){ce(e.$$.fragment)},m(l,r){x(e,l,r),n=!0},p(l,r){const i={};r&8&&(i.clickAction=l[11]),e.$set(i)},i(l){n||(N(e.$$.fragment,l),n=!0)},o(l){W(e.$$.fragment,l),n=!1},d(l){$(e,l)}}}function Oe(t){let e,n,l;function r(s){t[13](s)}let i={selectedQuake:t[1],searchAction:t[4]};return t[3]!==void 0&&(i.query=t[3]),e=new Ct({props:i}),K.push(()=>we(e,"query",r)),{c(){ce(e.$$.fragment)},m(s,c){x(e,s,c),l=!0},p(s,c){const o={};c&2&&(o.selectedQuake=s[1]),!n&&c&8&&(n=!0,o.query=s[3],be(()=>n=!1)),e.$set(o)},i(s){l||(N(e.$$.fragment,s),l=!0)},o(s){W(e.$$.fragment,s),l=!1},d(s){$(e,s)}}}function Rt(t){let e,n,l,r,i,s,c,o,u,a,d,f,h,_,b,k,Q,g,q,D,A,C,S;function O(w){t[10](w)}let j={quakes:t[0],query:t[3]};t[1]!==void 0&&(j.selectedQuake=t[1]),d=new At({props:j}),K.push(()=>we(d,"selectedQuake",O));let m=t[2]&&je(t);function B(w){t[12](w)}let H={quakes:t[0]};t[1]!==void 0&&(H.selectedQuake=t[1]),k=new Bt({props:H}),K.push(()=>we(k,"selectedQuake",B));let L=t[1]&&Oe(t);return{c(){e=v("div"),n=v("main"),l=v("div"),l.innerHTML='<div class="left"><h3>Earthquakes</h3></div> <div class="right"><a href="https://www.ngdc.noaa.gov/nndc/struts/form?t=101650&amp;s=1" target="_blank">National Geophysical Data Center / World Data Service (NGDC/WDS): NCEI/WDS Global Significant Earthquake Database. NOAA National Centers for Environmental Information. doi:10.7289/V5TD9V7K</a> <p>Disclaimer: This data has been normalized and approximated from the original NCEI/WDS source.</p></div>',r=z(),i=v("div"),s=v("div"),c=v("input"),o=z(),u=v("div"),u.textContent="?",a=z(),ce(d.$$.fragment),h=z(),_=v("div"),m&&m.c(),b=z(),ce(k.$$.fragment),g=z(),L&&L.c(),q=z(),D=v("div"),D.innerHTML='<a class="source-code" href="https://github.com/zumbalogy/command_search_example" target="_blank">Source Code</a>',y(l,"class","header"),y(c,"placeholder","Search..."),y(u,"class","help-button"),y(s,"class","left"),y(_,"class","right"),y(i,"class","center"),y(D,"class","footer"),y(e,"class","app")},m(w,E){I(w,e,E),p(e,n),p(n,l),p(n,r),p(n,i),p(i,s),p(s,c),Le(c,t[3]),p(s,o),p(s,u),p(s,a),x(d,s,null),p(i,h),p(i,_),m&&m.m(_,null),p(_,b),x(k,_,null),p(_,g),L&&L.m(_,null),p(n,q),p(n,D),A=!0,C||(S=[U(c,"input",t[8]),U(c,"keyup",t[4]),U(u,"click",t[9])],C=!0)},p(w,[E]){E&8&&c.value!==w[3]&&Le(c,w[3]);const G={};E&1&&(G.quakes=w[0]),E&8&&(G.query=w[3]),!f&&E&2&&(f=!0,G.selectedQuake=w[1],be(()=>f=!1)),d.$set(G),w[2]?m?(m.p(w,E),E&4&&N(m,1)):(m=je(w),m.c(),N(m,1),m.m(_,b)):m&&(he(),W(m,1,1,()=>{m=null}),_e());const le={};E&1&&(le.quakes=w[0]),!Q&&E&2&&(Q=!0,le.selectedQuake=w[1],be(()=>Q=!1)),k.$set(le),w[1]?L?(L.p(w,E),E&2&&N(L,1)):(L=Oe(w),L.c(),N(L,1),L.m(_,null)):L&&(he(),W(L,1,1,()=>{L=null}),_e())},i(w){A||(N(d.$$.fragment,w),N(m),N(k.$$.fragment,w),N(L),A=!0)},o(w){W(d.$$.fragment,w),W(m),W(k.$$.fragment,w),W(L),A=!1},d(w){w&&M(e),$(d),m&&m.d(),$(k),L&&L.d(),C=!1,X(S)}}}function Ut(t,e,n){let r=[],i=[],s=[],c=[],o=null,u=!1,a="";const d=g=>{const q=a.trim();if(a!==q)return;const D=Dt(q);if(window.location=`#/${D}`,q===""){n(7,s=r);return}const A=a;fetch(`/search/${D}`).then(C=>C.json()).then(C=>A===a&&n(7,s=C))};if(fetch("quake_export.json").then(g=>g.json()).then(g=>n(6,i=g)).then(g=>r=i.map(q=>q.id)).then(g=>n(7,s=r)),location.hash.length>2){const g=location.hash.slice(2);a=Tt(g),d()}function f(){a=this.value,n(3,a)}const h=g=>n(2,u=!u);function _(g){o=g,n(1,o)}const b=g=>n(3,a=g)&&d();function k(g){o=g,n(1,o)}function Q(g){a=g,n(3,a)}return t.$$.update=()=>{t.$$.dirty&192&&n(0,c=Nt(s,i))},[c,o,u,a,d,!0,i,s,f,h,_,b,k,Q]}class Vt extends ne{constructor(e){super(),te(this,e,Ut,Rt,ee,{prerender:5})}get prerender(){return this.$$.ctx[5]}}new Vt({target:document.body});
